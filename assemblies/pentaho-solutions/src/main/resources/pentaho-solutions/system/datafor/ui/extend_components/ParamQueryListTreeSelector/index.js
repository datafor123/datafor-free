"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,a,l=[],d=!0,s=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;d=!1}else for(;!(d=(n=o.call(r)).done)&&(l.push(n.value),l.length!==t);d=!0);}catch(e){s=!0,i=e}finally{try{if(!d&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}function _arrayWithHoles(e){if(Array.isArray(e))return e}define("ParamQueryListTreeSelector",["ParamQueryListTree","model/Filteration","ui/extendIconUI","Base.Panel","utility/runtime","Utility"],(function(e,t,r,n,i,o){var a,l=new n,d="ParamQueryListTreeSelector",s="TOTALGRANDNODE",c=e.getLocaleFn(["components","extends",d]),u=_slicedToArray(o.deepCopy(e.staticPanelOptions),3),f=u[0],p=u[1],y=u[2],h={"font-size":"0.75em","margin-left":"3px",position:"relative",top:"-1px"},g={desc:r.getDescOrderIcon(_.extend({},h,{opacity:1})),asc:r.getAscOrderIcon(_.extend({},h,{opacity:1})),all:r.getSortableIcon(h)},m=function(e){return e=Object.keys(e).reduce((function(t,r){return t+=r+":"+e[r]+";"}),"")};p.datasets.splice(32),p.datasets.push({type:"ColorPicker",name:"selected.background",value:"rgb(201 235 255)",label:c("selected background"),tooltip:c("selected background desc"),queried:!1,execute:function(e,t){t.pivotStyles.selectedRowBackgroundColor=e}},{type:"ColorPicker",name:"selected.color",label:c("selected color"),tooltip:c("selected color desc"),value:"#616161",queried:!1,execute:function(e,t){t.pivotStyles.selectedRowFontColor=e}}),p.datasets=p.datasets.filter((function(e){return"hover.bg.on"!=e.name})),null==f||(a=f.datasets).push.apply(a,[l.line()].concat(_toConsumableArray(l.filterAdvancedOptionGroup((function(e,t){var r=this,n=this.model.getDynamicDefaultsArray().map((function(e){return e.value})),i=(this.model.getDefaultsValue()||{}).value,o=void 0===i?[]:i,a=e.type,l=e.multiple,d=e.dynamicValue,s=e.showAllMember,c=this.options.value,u=void 0===c?[]:c,f=this.model.defaultType,p=this.options.multiple,y=this.options.showAllMember;if(f!=a||p!=l||y!=s)if(this.options.multiple=l,this.model.defaultType=a,this.options.showAllMember=s,t||setTimeout((function(){void 0!==s&&y!=s?r.model.commit():r.gridInstance&&r.gridInstance.refresh()}),0),"fixedDefault"===a){var h=_toConsumableArray(o||[]).filter((function(e){return n.indexOf(e)<0}));l?this.model.defaultValueUpdated(h,!0):0===h.length?s?this.model.defaultValueUpdated([],!0):this.model.defaultValueUpdated((null==u?void 0:u.slice(0,1).map((function(e){return e.key})))||[],!0):this.model.defaultValueUpdated(h.slice(0,1),!0),t||this.model.fireUpdate()}else"dynamicDefault"===a&&(this.model.defaultValueUpdated([d],!0),f===a||t||this.model.fireUpdate())}),!0)))),null==y||y.datasets.splice(4,0,l.label(o.locale("panel","action panel","subscribers")),l.subscribers(),l.line()),null==y||y.datasets.splice(0,4),null==y||y.datasets.splice(4,1);var v=e.extend({type:d,name:c("name"),description:c("name tooltip"),classify:"_filter",tableExtend:function(){e.prototype.tableExtend.apply(this,arguments);var t=this.model.getCustomizations()["data.showAllMember"],r=void 0===t||t;this.model.filterable=!0,this.options.showAllMember=!!r,this.options.pivotStyles.hoverBackgroundColor="green",this.model.defaultType="fixedDefault",this.$el.closest(".panel").addClass("cs-tree-table-selector")},hasQueryGrandSummary:function(e){return(this.options||{}).showAllMember&&"fixedDefault"==this.model.defaultType},getSelected:function(){var e,t=this.model,r=t.getDynamicDefaultsArray().map((function(e){return e.value})),n=(null===(e=t.getDefaultsValue())||void 0===e?void 0:e.value)||[];if("fixedDefault"==this.model.defaultType)return n.filter((function(e){return r.indexOf(e)<0}));var i,o=n.filter((function(e){return r.indexOf(e)>=0}))[0],a=(null===(i=this.baseOptions.dataModel)||void 0===i?void 0:i.data)||[];return"first"===o?a.length?[this.tryGetFullTrace(a[0].id)]:[]:n},dynamicRefreshUI:function(t,r){if(this.options.multiple){var n,i=this.model,a=this.getSelected(),l=this.tryGetFullTrace(r.id),d=o.getSequenceKeys(l);if(a.findIndex((function(e){return o.getSequenceKeys(e)==d}))>=0)null==t||null===(n=t.dataArray)||void 0===n||n.forEach((function(e){var t=_toConsumableArray(l).concat(e.datafor_rows);a.push(t)})),i.defaultValueUpdated(a,!0)}return e.prototype.dynamicRefreshUI.apply(this,arguments),this},onPivotCellClickEvent:function(e,t){var r,n=this;"dynamicDefault"==this.model.defaultType&&this.readonly;var i=this.getSelected(),a=this.options.multiple,l=t.rowData,d=l.id,s=l.parentId,c=this.gridInstance,u=function(e){return null!=e&&null!=e&&""!=e},f=(null===(r=c.getData())||void 0===r?void 0:r.find((function(e){return e.id==d})))||{},p=this.tryGetFullTrace(d,null,t.rowData);e.stopPropagation();var y,h=null==p?void 0:p.map((function(e){return _objectSpread({},e)})),g=function e(t,r){var i,a=null===(i=c.getData())||void 0===i?void 0:i.find((function(e){return e.id==t}));if(a){var l=o.getSequenceKeys(n.tryGetFullTrace(t)||[]),d=r.findIndex((function(e){return o.getSequenceKeys(e)==l}));d>=0&&r.splice(d,1)}u(null==a?void 0:a.parentId)&&e(a.parentId,r)},m=function e(t,r,i){var a=n.tryGetFullTrace(t.id)||[],l=o.getSequenceKeys(a);if(i)r.findIndex((function(e){return o.getSequenceKeys(e)==l}))<0&&r.push(a);else if(!i)for(var d=a.map((function(e){return e.uniqueName})).join("..."),s=r.findIndex((function(e){return 0==e.map((function(e){return e.uniqueName})).join("...").indexOf(d)}));s>=0;)r.splice(s,1),s=r.findIndex((function(e){return 0==e.map((function(e){return e.uniqueName})).join("...").indexOf(d)}));Array.isArray(t.children)&&t.children.forEach((function(t){return e(t,r,i)}))};a?(y=i.map((function(e){return e}))).findIndex((function(e){return o.getSequenceKeys(e)==o.getSequenceKeys(h)}))>=0?(m(f,y,!1),u(s)&&g(s,y)):(m(f,y,!0),u(s)&&function(e,t){var r,i=null===(r=c.getData())||void 0===r?void 0:r.find((function(t){return t.id==e}));if(i){var a,l=null===(a=i.children)||void 0===a?void 0:a.map((function(e){var r=o.getSequenceKeys(n.tryGetFullTrace(e.id)||[]);return!!t.find((function(e){return o.getSequenceKeys(e)==r}))}));l.length&&l.indexOf(!1)<0&&t.push(n.tryGetFullTrace(e))}u(null==i?void 0:i.parentId)&&g(i.parentId,t)}(s,y)):y=null!=h&&h.length?[h]:[];return this.model.defaultValueUpdated(y),c&&_.isFunction(c.refresh)&&c.refresh(),this},getQuerySuccess:function(e){var t=this.getCustomizeFunction("action","_postFetch");return e&&(_.isFunction(t)?t.call(this,e.data,e.raw,e):e.data,_.isFunction(this.dataFormatter)&&this.dataFormatter(null,null,null,e)),this.lastGrandQueryError?(o.debounceExecute((function(){this.dataErrorMessage(this.lastGrandQueryError)}),this,null,100,"lastGrandQueryError_".concat(this.id)),this):(Array.isArray(this.baseOptions.colModel)&&this.baseOptions.dataModel&&(this.hasQueryGrandSummary()?this.baseOptions.dataforSummaryData&&this.chartPropertiesRebuild():this.chartPropertiesRebuild()),this)},chartPropertiesRebuild:function(){return this._querytoUpdate=!0,e.prototype.chartPropertiesRebuild.apply(this,arguments),this._querytoUpdate=!1,this},getCheckedStyle:function(e,t){var r=this,n=this.options.showAllMember,i=null==e?void 0:e.map((function(e){return(null==e?void 0:e.map((function(e){return e.uniqueName})).join("..."))||""})),a=null==e?void 0:e.map((function(e){return o.getSequenceKeys(e)})),l=this.options.multiple,d={single:{unchecked:"icon-radiobuttonunselect",checked:"icon-radiobuttonselect",half:"icon-radio1"},multiple:{unchecked:"icon-CheckboxUnchecked",checked:"icon-CheckboxChecked",half:"icon-CheckboxPartial"}}[l?"multiple":"single"],c=d.unchecked,u=d.checked,f=d.half,p=function(e){var t=r.tryGetFullTrace(e)||[],n=o.getSequenceKeys(t),l=t.map((function(e){return e.uniqueName})).join("...");return n&&a.indexOf(n)>=0?u:i.find((function(e){return 0==e.indexOf(l)}))?f:c},y="";return y=t.rowData.id==s?e.length>0?f:n?u:c:l&&"dynamicDefault"!==this.model.defaultType?Array.isArray(t.rowData.children)?p(t.rowData.id)==u?u:function e(t){var r=t.map((function(t){return p(t.id)==u?u:p(t.id)==f?Array.isArray(t.children)?e(t.children):f:c}));return r.find((function(e){return e==f}))?f:r.find((function(e){return e==c}))?r.find((function(e){return e==u}))?f:c:u}(t.rowData.children):t.rowData.parentId&&p(t.rowData.parentId)==u?u:p(t.rowData.id):p(t.rowData.id),'<span class="check-row-cell icon iconfont '+y+'" style="margin-right:2px;font:inherit;"></span>'},getColumnHeaderUI:function(e){var t,r,n=this.options.pivotStyles,i=n.headerBackgroundColor,o=n.gridStyle,a=e.column,l=(this.hasQueryGrandSummary(),a.titleOrigin||""),d='<span class="sorter-icon">'+g[a.orderedType]+"</span>",s=a.filterON,c={};return e.Export?l:(["numericIndex"].indexOf(a.dataIndx)>=0?(d="",s=""):s=s?'<span class="th-filter icon-datafor-filter iconfont icon '+(a.filterOnEffected?"effected":"")+'" data-key="'+a.dataIndx+'"></span>':"","empty_column_scroll"!==a.dataIndx&&(c["border-right"]=o,e.column&&e.column.parent?c["border-top"]="none":c["border-top"]=o,r=this.options.showNumeric?0:1,e.colIndx==r?c["border-left"]=o:c["border-left"]="none",c["border-bottom"]=o,a.isGrand?(c.background=n.grantSummaryBackgroundColor,c.font=n.grantSummaryFont,c.color=n.grantSummaryColor):a.isGroup?(c.background=n.summaryRowBackgroundColor,c.font=n.summaryRowFont,c.color=n.summaryRowColor):(c.background=i,c.color=n.headerColor,c.font=n.headerFont)),a.isMeasureNode?(c["justify-content"]=a.halign||"flex-end",t=a.orderedType?'<div style="'+m(c)+'"><span>'+s+l+d+"</span></div>":'<div style="'+m(c)+'"><span>'+s+l+"</span></div>"):(a.isColumnNameNode?c["justify-content"]="flex-end":c["justify-content"]=a.halign||"center",t=a.orderedType?'<div style="'+m(c)+'"><span>'+s+l+d+"</span></div>":'<div style="'+m(c)+'"><span>'+s+l+"</span></div>"),t)},plainCellRender:function(e){var t=this,r=this.baseOptions,n=this.options.pivotStyles;e.render=function(e){var i,a,l,d,s,c,u,f=n.selectedRowBackgroundColor,p=n.selectedRowFontColor,y=t.getSelected().map((function(e){return o.getSequenceKeys(e)})),h=["cell-u-d"],g=e.column,m=e.rowData,v=e.cellData,b={},x=[g.isMeasureNode?"m-col":"d-col"].concat(g.isLastColumn?"last-col":""),w=["font:inherit","margin:0px"];if(e.Export){v=null==v||""===v?'{"formatted": "", "vtip": ""}':String(v);try{a=JSON.parse(v)}catch(e){a={formatted:v,vtip:v}}return a=String(a.formatted),["undefined"].indexOf(a)<0?a:v}v=null==v?'{"formatted": "", "vtip": ""}':String(v),u="right"===g.align?"justify-content:flex-end":"left"===g.align?"justify-content:flex-start":"justify-content:center",v=String(v).replace(/&lt;/g,"<").replace(/&gt;/g,">"),r.wrap?w.push("white-space:normal"):w.push("text-overflow:ellipsis","overflow:hidden","white-space:nowrap"),"numericIndex"===g.dataIndx&&(v=m.numericIndex||m.pq_ri+1),c=(m.pq_ri+1)%2?n.oddRowBackgroundColor:n.evenRowBackgroundColor;var S=o.getSequenceKeys(t.tryGetFullTrace(m.id));if((d=S&&y.indexOf(S)>=0)&&(s=f),r.wrap&&h.push("cwrap"),"numericIndex"===g.dataIndx)a={formatted:v};else try{a="0"==String(v)?{formatted:"0",raw:0}:JSON.parse(v||JSON.stringify({formatted:"",raw:0}))}catch(e){a={formatted:v,raw:v}}v=a.hasOwnProperty("formatted")?a.formatted:a,b.font=n.contentFont,b.background=c,l=n.contentColor,b.color=d?p:l,s&&(b.background=s),b["border-right"]=n.gridStyle,b["border-bottom"]=n.gridStyle;return 1==e.colIndx?b["border-left"]=n.gridStyle:b["border-left"]="none",null==v&&(v=""),(i=a&&a.hasOwnProperty("vtip")?a.vtip:v)&&String(i).indexOf("<")>=0&&(i=String(i).replace(/<[^>]+>/g,"")),{text:'<div data-x="'+(m.isGrantSummary?-1:e.rowIndx)+'" data-y="'+e.colIndx+'" class="'+h.join(" ")+'" title="'+i+'"><span style="'+u+'"><p style="'+w.join(";")+'">'+v+"</p></span></div>",style:Object.keys(b).reduce((function(e,t){return e+=t+":"+b[t]+";"}),""),cls:x.join(" ")}}},cellRenderOveride:function(e){var t=this,r=this,n=this.dataColumnRecord||{},i=r.options.pivotStyles||{},o=this.baseOptions.wrap;return e.isTreeColumnNode?(e.render=function(e){var a,l=!!t.hasQueryGrandSummary()?15:0,d=t.getSelected(),c=i.gridStyle,u={},f=e.cellData;if(null==f&&(f=""),e.Export)return f;var p=r.getRowBackgroundColor(e.rowIndx,e.rowData,d,i),y=p.background,h=p.color;u.display="flex",u["align-items"]="center",u["border-right"]=c,u["border-bottom"]=c;var g,m,v;if(1==e.colIndx?u["border-left"]=c:u["border-left"]="none",u.padding="0px","left"==e.column.align?u["justify-content"]="flex-start":"center"==e.column.align?u["justify-content"]="center":u["justify-content"]="flex-end",u.color=h,u.font=i.contentFont,n.hasOwnProperty(e.dataIndx)){var b=e.rowData.myuuid,x=n[e.dataIndx].map((function(e){return _.extend({},e)}));b=_.find(x,(function(e){return e.id===b}))}var w=e.rowData[e.dataIndx+"_matched"]||String(f).replace(/&lt;/g,"<").replace(/&gt;/g,">"),S="tree-basic-cell pq-group-icon ",D=e.rowData.myuuid;return v=r.indentMaps[D]||e.rowData.pq_level||0,r.indentMaps[D]=v,e.rowData.shouldNextLoad||e.rowData.id==s?(m=e.rowData.pq_close?"ui-icon fa fa-caret-right":"ui-icon fa fa-caret-down",a='<div class="'.concat(S," ").concat(m,'" style="padding-left:10px;cursor:pointer;background:').concat(y,'"></div>\n                  <div class="tree-basic-cell pwrap" style="background:').concat(y,'" title="').concat(f,'" data-y="').concat(e.rowIndx,'">\n                    <p>').concat(t.getCheckedStyle(d,e)).concat(w,"</p>\n                  </div>")):a='<div class="'.concat(S,'" style="background:').concat(y,";padding-left:").concat(25*v-l,'px;"></div>\n                  <div class="tree-basic-cell pwrap" style="background:').concat(y,'" title="').concat(f,'" data-y="').concat(e.rowIndx,'">\n                    <p>').concat(t.getCheckedStyle(d,e)).concat(w,"</p>\n                  </div>"),u["text-indent"]=15*v+"px",g=Object.keys(u).reduce((function(e,t){return e+=t+":"+u[t]+";"}),""),{text:a.replace(/\n|\t/g,""),style:g,cls:(o?"content-wrap":"")+(e.column.isLastColumn?" last-col":"")}},this):this.plainCellRender(e)},getRowBackgroundColor:function(e,t,r,n){var i,a=n.selectedRowBackgroundColor,l=n.selectedRowFontColor,d=n.evenRowBackgroundColor,s=n.oddRowBackgroundColor,c=r.map((function(e){return o.getSequenceKeys(e)})),u=o.getSequenceKeys(this.tryGetFullTrace(t.id)),f=u&&c.indexOf(u)>=0,p=n.contentColor;return f?(i=a,p=l):i=e%2?d:s,{background:i,color:p}},leaveGridcell:function(e){return this.$el.find(".hover-bg").hide(),this},enterGridcell:function(e){var t=$(e.target).closest(".pq-grid-row").find(".hover-bg"),r=this.options.pivotStyles.hoverBackgroundColor;return this.$el.find(".hover-bg").hide(),t.show().css("background",r),this},addExtroDetailsFields:function(t){var r=this.model.getTooltipFields();return e.prototype.addExtroDetailsFields.call(this,t,r)},tableUiUpdate:function(){var t,r,n,i=null===(t=this.options.pivotStyles)||void 0===t?void 0:t.tableHeaderRowSizeY,o=null===(r=this.gridInstance)||void 0===r?void 0:r.option("rowHt"),a="dynamicDefault"==this.model.defaultType,l=this.hasQueryGrandSummary();if(0==!!this._querytoUpdate&&this.gridInstance&&o==i){var d;if(!a||null===(d=this.baseOptions.dataModel)||void 0===d||null===(d=d.data)||void 0===d||!d.find((function(e){return e.id==s})))return this.gridInstance.refresh(),this;this.baseOptions.dataModel.data=this.baseOptions.dataModel.data.filter((function(e){return e.id!=s}))}this.options.expandLevels>0||(this.indentMaps={},null!==(n=this.baseOptions.dataModel)&&void 0!==n&&n.data&&(this.baseOptions.dataModel.data=this.baseOptions.dataModel.data.filter((function(e){return e.id!=s&&(e.parentId=null,!0)}))));var u=this.baseOptions,f=u.dataforSummaryData,p=void 0===f?[]:f,y=u.dataModel.data,h=void 0===y?[]:y,g=_slicedToArray(p,1)[0];if(l&&g){this.baseOptions.summaryData=[];var m=_objectSpread(_objectSpread({},g),{},{parentId:null,id:s,datafor_rows:[],datafor_tree_name:c("all")});delete m.isGrantSummary,h.forEach((function(e){null==e.parentId&&(e.parentId=s)})),h.unshift(m)}this.baseOptions.treeModel={dataIndx:"datafor_tree_name",checkbox:!0,checkboxHead:!1,cascade:!0,icons:!1,parentId:"parentId"},this.baseOptions.hoverMode="row",e.prototype.tableUiUpdate.apply(this,arguments),this.$el.find(".ctable").css("border","none").removeClass("on-grand-summary")},onPivotTableRefreshEvent:function(e,t){this.$el.find(".pq-grid-row").each((function(){var e=$(this);0===e.find(".hover-bg").length&&e.append('<div class="hover-bg"></div>')}))}},{menus:[],_sort_order:5,logo:r.getGeneralIcon({fontSize:19},'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="25" height="21" viewBox="0 0 25 21"><g><g><rect x="0.5" y="0.5" width="24" height="20" rx="0" fill-opacity="0" stroke-opacity="1" stroke="#096DD9" fill="none" stroke-width="1"/></g><g><g><g transform="matrix(-1,5.400848479553133e-8,-5.400848479553133e-8,-1,10.000000351055151,12.999999729957576)"><path d="M5,8L7,8L6,6.5L5,8Z" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="7.5" y="5.5" width="1" height="1" rx="0" fill-opacity="0" stroke-opacity="1" stroke="#096DD9" fill="none" stroke-width="1"/></g><g><rect x="11" y="5" width="3" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="16" y="5" width="6" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g></g><g><g transform="matrix(-1,5.400848479553133e-8,-5.400848479553133e-8,-1,14.000000522082011,19.3333326373825)" style="opacity:0;"><path d="M7,10.666666507720947L11,10.666666507720947L9,9.666666507720947L7,10.666666507720947Z" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="9.5" y="9.166666507720947" width="1" height="1" rx="0" fill-opacity="0" stroke-opacity="1" stroke="#096DD9" fill="none" stroke-width="1"/></g><g><rect x="13" y="8.666666507720947" width="3" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="18" y="8.666666507720947" width="4" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g></g><g><g transform="matrix(-1,5.400848479553133e-8,-5.400848479553133e-8,-1,10.000000747117355,27.666665760841365)"><path d="M5,15.333333015441895L7,15.333333015441895L6,13.833333015441895L5,15.333333015441895Z" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="7.5" y="12.833333015441895" width="1" height="1" rx="0" fill-opacity="0" stroke-opacity="1" stroke="#096DD9" fill="none" stroke-width="1"/></g><g><rect x="11" y="12.333333015441895" width="3" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="16" y="12.333333015441895" width="6" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g></g><g><g transform="matrix(-1,5.400848479553133e-8,-5.400848479553133e-8,-1,14.000000918144242,33.9999996219406)" style="opacity:0;"><path d="M7,18L11,18L9,17L7,18Z" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="9.5" y="16.5" width="1" height="1" rx="0" fill-opacity="0" stroke-opacity="1" stroke="#096DD9" fill="none" stroke-width="1"/></g><g><rect x="13" y="16" width="3" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g><g><rect x="18" y="16" width="4" height="2" rx="0" fill="#FAAD14" fill-opacity="1"/></g></g></g><g><rect x="0" y="0" width="25" height="3" rx="0" fill="#096DD9" fill-opacity="1"/></g></g></svg>'),symbol:"hierarchy_tree_filter.svg",privates:_objectSpread(_objectSpread({},e.privates),{},{grandAsRoot:!0,chartTypeSimilar:e.prototype.type,trySetQuery:function(e,t,r){var n=(t.value||[]).map((function(e){return e})).filter((function(e){return e.length})),o=this.getCustomizations();if(0!==n.length){var a=function(t){var r=t.filter((function(e){return 1!=e.delete})).map((function(e){return{levels:e.map((function(e){return e}))}})),n=i.tryPackageTupleGroups(r,!0,"");n.length&&e.toUpdateJoinTuples(n)};if("fixedDefault"==this.defaultType&&"first"!=n[0]){var l=o["data._multiple"];void 0!==l&&l&&n.forEach((function(e,t){var r=e.map((function(e){return e.uniqueName})).join("...");n.filter((function(e){return 1!=e.delete})).forEach((function(e){var t=e.map((function(e){return e.uniqueName})).join("...");0==t.indexOf(r)&&t!=r&&(e.delete=!0)}))})),a(n)}else{var d=n[0];if("first"==d){var s,c,u=_toArray(this.getGroupedFields()),f=u[0],p=(u.slice(1),null==f||null===(s=f.id)||void 0===s?void 0:s.split(/\.\[/g)),y=p.slice(0,2).join(".["),h=null===(c=p[2])||void 0===c?void 0:c.replace(/\]$/g,"");e.trySetDynamicQueryModelFilter({hierarchy:y,level:h,key:d,publisher:this})}else a(n)}}}}),extends_model:_objectSpread(_objectSpread({},e.extends_model||{}),{},{fireUpdate:t.prototype.fireUpdate,getParametersLinked:t.prototype.getParametersLinked,defaultValueUpdated:function(e,t,r){e.call(this,t,r),r||this.fireUpdate()},getTooltipFields:function(){return this.getCustomizations()["data.detail.fields.list"]||[]},getDynamicDefaultsArray:function(){return t.prototype.getDynamicDefaultsArray.apply(this,arguments).filter((function(e){return"first"===e.value}))},getIndxInHierarchy:t.prototype.getIndxInHierarchy,subscribeEventResponse:function(e,t){"dynamicDefault"==this.defaultType&&this.defaultValueUpdated(["first"],!0),this.commit()}}),staticPanelOptions:[f,p,y]});return e.register(v),v}));
//# sourceMappingURL=ParamQueryListTreeSelector.js.map