"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}define("BaseHorizontalRatioBar",["Utility","utility/runtime","underscore","echartbase/RatioStackAreachart","ui/extendIconUI","Base.Panel","echartbase/EchartsBase.Panel","echartbase/BaseLinechart"],(function(e,t,r,o,a,n,i,l){var s=new n,c="BaseHorizontalRatioBar",p=o.getLocaleFn(["components","extends",c]),y=o.crossLegendName,u=o.extend({type:c,name:p("component name"),description:p("component desc"),render:function(){var e=this;return this.options.xAxis=_objectSpread(_objectSpread({},this.options.xAxis),{},{axisLabel:_objectSpread(_objectSpread({},this.options.xAxis.axisLabel||{}),{},{formatter:"{value}%"}),max:100,type:"value"}),delete this.options.xAxis.boundaryGap,this.options.yAxis=_objectSpread(_objectSpread({},this.options.yAxis),{},{type:"category",splitLine:{show:!1}}),this.options.series.forEach((function(r){var o,a=e.options.dataforDataLabelType;r.barMaxWidth=t.getChartPlotBarMaxWidth(),r.label=_objectSpread(_objectSpread({},r.label||{}),{},{normal:_objectSpread(_objectSpread({},(null===(o=r.label)||void 0===o?void 0:o.normal)||{}),{},{formatter:"value"==a?function(e){var t;return null==e||null===(t=e.data)||void 0===t?void 0:t.formatted}:function(e){return e.value?"".concat(e.value,"%"):""}})})})),l.prototype.render.apply(this,Array.prototype.slice.call(arguments,0))},dataFormatter:function(e,t,r,a,n){var i;o.prototype.dataFormatter.apply(this,Array.prototype.slice.call(arguments,0));var l=this.options.xAxis;this.options.xAxis=_objectSpread({},this.options.yAxis),this.options.yAxis=_objectSpread({},l),null===(i=this.options.series)||void 0===i||i.forEach((function(e){e.type="bar"})),this.options.legend=_objectSpread(_objectSpread({},this.options.legend||{}),{},{icon:"rect"}),this.options.legend.itemWidth=16,this.options.legend.itemHeight=8;var s,c;return s=this.options.yAxis,c=this.options,s.type="category",s.boundaryGap=!0,c.series.forEach((function(e){Array.isArray(e.data)&&e.data.forEach((function(e){e.value=e.fullValue.length?e.fullValue[1]:void 0}))})),s.inverse=!0,delete s.min,delete s.max,delete this.options.xAxis.inverse,this},applyHighlight:function(){return l.prototype.applyHighlight.apply(this,Array.prototype.slice.call(arguments,0))}},{_sort_order:5.2,logo:a.getGeneralIcon({},'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="none" version="1.1" width="20" height="22" viewBox="0 0 20 22"><g><g transform="matrix(0,-1,1,0,3,23)" style="opacity:0.30000001192092896;"><rect x="13" y="10" width="4" height="7" rx="0" fill="#0070DF" fill-opacity="0.5"/></g><g transform="matrix(0,-1,1,0,-13,31)" style="opacity:0.30000001192092896;"><rect x="9" y="22" width="4" height="11" rx="0" fill="#0070DF" fill-opacity="0.5"/></g><g transform="matrix(0,-1,1,0,-10,10)"><rect x="0" y="10" width="4" height="13" rx="0" fill="#0070DF" fill-opacity="1"/></g><g transform="matrix(0,-1,1,0,-22,22)"><rect x="0" y="22" width="4" height="9" rx="0" fill="#0070DF" fill-opacity="1"/></g><g transform="matrix(0,-1,1,0,-4,4)"><rect x="0" y="4" width="4" height="9" rx="0" fill="#FFA800" fill-opacity="1"/></g><g transform="matrix(0,-1,1,0,-16,16)"><rect x="0" y="16" width="4" height="6" rx="0" fill="#FFA800" fill-opacity="1"/></g><g transform="matrix(0,-1,1,0,5,13)" style="opacity:0.30000001192092896;"><rect x="9" y="4" width="4" height="11" rx="0" fill="#FFA800" fill-opacity="1"/></g><g transform="matrix(0,-1,1,0,-10,22)" style="opacity:0.30000001192092896;"><rect x="6" y="16" width="4" height="14" rx="0" fill="#FFA800" fill-opacity="1"/></g></g></svg>',"0.75em"),privates:_objectSpread(_objectSpread({},o.privates),{},{skipBuildDetailObject:!0,chartTypeSimilar:o.prototype.type}),symbol:function(){return"".concat(e.getWebAppName(),"/content/datafor/ui/extend_components/").concat(c,"/thumbnail.svg?_t=").concat(e.getStartupTimestamp())},thumbnail:"icon iconfont icon-datafor-mianjitu",staticPanelOptions:r.extend([],[{name:"data",label:e.locale("panel","data"),active:!0,datasets:[s.datasource(),s.line(),s.enhanceDimensionPrimary(e.locale("components","echarts","stack area","primary dimension"),null,1,e.locale("components","echarts","stack area","primary dimension desc")),s.enhanceDimensionPrimary(e.locale("panel","sub dimension"),"single",!1,null,["measures"],null,y,!0),s.enhanceMeasures(null,null,y),s.line()].concat(_toConsumableArray(s.getExtroDataOptionsGroup()),_toConsumableArray(s.getAxisLinkPanelGroup()),[s.filters()])},{name:"style",label:e.locale("panel","styles"),active:!1,datasets:[].concat(_toConsumableArray(s.getComponentCaptionGroup()),[s.line()],_toConsumableArray(s.getComponentFramesetGroup()),[s.line()],_toConsumableArray(i.getBarchartStyleGroup()),[s.line()],_toConsumableArray(i.getDataPointLabelGroup().concat([{type:"SingleSelect",name:"data.label.type",label:p("label content type"),tooltip:p("label content type desc"),available:[{value:"value",label:p("show original value")},{value:"percent",label:p("show percent value")}],value:["percent"],search:!1,execute:function(e){var t=Array.isArray(e)?e[0]:e;this.options.dataforDataLabelType=t}}])),[s.line()],_toConsumableArray(i.getValueAxisXGroup(e.locale("components","echarts","bar","show xAxis label for bar"),e.locale("components","echarts","bar","show xAxis label for bar desc"),null,null)),[s.line()],_toConsumableArray(i.getCategoriedAxisYGroup()),[s.line()],_toConsumableArray(i.getGridLineGroupX()),[s.line()],_toConsumableArray(i.getLegendGroup()),[s.line()],_toConsumableArray(i.getNumericAxisZoomControlGroup()),[s.line()],_toConsumableArray(s.getComponentToolbarGroup()))},{name:"action",label:e.locale("panel","actions"),datasets:[s.label(e.locale("panel","action panel","refresh")),s.refresh(),s.period(),s.line(),s.label(e.locale("panel","action panel","custom blocks")),i.clickPlotEvent(),s.preExecution(),s.preFetch()]}])});return o.register(u),u}));
//# sourceMappingURL=BaseHorizontalRatioBar.js.map