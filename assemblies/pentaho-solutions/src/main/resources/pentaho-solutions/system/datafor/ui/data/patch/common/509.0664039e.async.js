(self["webpackChunkdataforui_common"]=self["webpackChunkdataforui_common"]||[]).push([[509],{72509:function(e,t,n){"use strict";n.r(t),n.d(t,{CSS2DObject:function(){return o},CSS2DRenderer:function(){return d}});var r=n(12955);class o extends r.Object3D{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new r.Vector2(.5,.5),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}const i=new r.Vector3,s=new r.Matrix4,c=new r.Matrix4,a=new r.Vector3,l=new r.Vector3;class d{constructor(e={}){const t=this;let n,r,o,d;const u={objects:new WeakMap},m=void 0!==e.element?e.element:document.createElement("div");function h(e,n,r){if(e.isCSS2DObject){i.setFromMatrixPosition(e.matrixWorld),i.applyMatrix4(c);const s=!0===e.visible&&i.z>=-1&&i.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===s?"":"none",!0===s){e.onBeforeRender(t,n,r);const s=e.element;s.style.transform="translate("+-100*e.center.x+"%,"+-100*e.center.y+"%)translate("+(i.x*o+o)+"px,"+(-i.y*d+d)+"px)",s.parentNode!==m&&m.appendChild(s),e.onAfterRender(t,n,r)}const a={distanceToCameraSquared:p(r,e)};u.objects.set(e,a)}for(let t=0,o=e.children.length;t<o;t++)h(e.children[t],n,r)}function p(e,t){return a.setFromMatrixPosition(e.matrixWorld),l.setFromMatrixPosition(t.matrixWorld),a.distanceToSquared(l)}function f(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}function x(e){const t=f(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;const n=u.objects.get(e).distanceToCameraSquared,r=u.objects.get(t).distanceToCameraSquared;return n-r})),n=t.length;for(let r=0,o=t.length;r<o;r++)t[r].element.style.zIndex=n-r}m.style.overflow="hidden",this.domElement=m,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.matrixWorldAutoUpdate&&e.updateMatrixWorld(),null===t.parent&&!0===t.matrixWorldAutoUpdate&&t.updateMatrixWorld(),s.copy(t.matrixWorldInverse),c.multiplyMatrices(t.projectionMatrix,s),h(e,e,t),x(e)},this.setSize=function(e,t){n=e,r=t,o=n/2,d=r/2,m.style.width=e+"px",m.style.height=t+"px"}}}}}]);
//# sourceMappingURL=509.0664039e.async.js.map