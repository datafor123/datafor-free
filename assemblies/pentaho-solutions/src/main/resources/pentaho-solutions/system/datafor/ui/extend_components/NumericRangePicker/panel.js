"use strict";function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"===_typeof(t)?t:String(t)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,n,i,l,a=[],u=!0,c=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(o=i.call(r)).done)&&(a.push(o.value),a.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(c)throw n}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}define("NumericRangePicker/panel",["Utility","utility/colors","utility/CubeTreeNode","Base.Panel"],(function(e,t,r,o){var n=new o,i=function(e,t){return null!=e&&null!=e?e:t};return function(r){var o,l,a,u=n.getFilterComponentDataPanelGroup();return u.splice(2,1,{type:"DimMeasure",name:"selected.numeric.field",label:function(){return this.toLocale("select a numeric field")},tooltip:function(){return this.toLocale("select a numeric field desc")},min:1,mode:"single",location:"ROWS",menus:["format"],chainLinker:function(e,t,r){var o=r.model.get("value"),n=e.value;if("datasource"==e.name){if(Array.isArray(o)&&o.length&&(r.model.set("value",[]),r.render()),this.model.clearAxisHierarchy("ROWS"),n.length<1||e.value.length<1)return void r.crLe2val();r.level2ValuesArray(e.value[0])}this.model.isValidQueryModel()||this.inValidQueryDetected()},toFilterDatasetsEvent:function(t){return t=t.filter((function(e){return"measuresGroup"!=e.type})),e.bubbleRecurve(t,(function(e){Array.isArray(e.children)&&(e.children=e.children.filter((function(e){return e.type?["QUANTITATIVE"].indexOf(e.type)>=0:!Array.isArray(e.children)||e.children.length>0})))}),"children"),t},save:function(e,t){if(t.clearMeasuresEnhance([]),!Array.isArray(e)||e.length<1)return t.commit(),t.valuesAvailable=[],void this.inValidQueryDetected();e.slice(0,1).forEach((function(e){t.includeMeasure({caption:e.label,name:e.value,id:e.uuid,uniqueName:e.id,type:"EXACT"})})),this.toUpdateSelectedKeys([],!1,!0),t.commit()},init:function(e,t,r,o){return(null==o?void 0:o["data.selected.numeric.field"])||[]}}),{data:_toConsumableArray(u),style:[].concat(_toConsumableArray(r.getGeneralPanelGroup("caption",!0).filter((function(e,t){return"title.align"==e.name&&(e.value="left"),!0}))),_toConsumableArray(r.getGeneralPanelGroup("frameset",!1)),[n.label((function(){return this.toLocale("layout options")})),{type:"SingleSelect",name:"layout",available:[{value:"horizontal",label:function(){return this.toLocale("layout horizontal")}},{value:"vertical",label:function(){return this.toLocale("layout vertical")}}],value:["horizontal"],singleRequireSelected:!0,label:function(){return this.toLocale("layout mode")},tooltip:function(){return this.toLocale("layout mode desc")},execute:function(e,t,r){this.tryUpdateStatus(["layout"],e[0])}},n.line(),n.label((function(){return this.toLocale("slider type options")})),{type:"SingleSelect",name:"picker.type",available:[{value:"range",label:function(){return this.toLocale("slider type.range")}},{value:"less",label:function(){return this.toLocale("slider type.less")}},{value:"more",label:function(){return this.toLocale("slider type.more")}}],value:["range"],singleRequireSelected:!0,label:function(){return this.toLocale("slider type")},tooltip:function(){return this.toLocale("slider type desc")},execute:function(e,t,r,o){var n=e[0];if(this.tryUpdateStatus(["mode"],n),null!=o&&o[0]&&o[0]!=n){var l,a=i(this.options.staticMin,this.options.min),u=i(this.options.staticMax,this.options.max),c=_slicedToArray((null===(l=this.model)||void 0===l||null===(l=l.getDefaultsValue())||void 0===l?void 0:l.value)||[],2),s=c[0],d=void 0===s?a:s,f=c[1],y=void 0===f?u:f;"range"==n?this.toUpdateSelectedKeys([d,y]):"less"==n?a>=d?this.toUpdateSelectedKeys([a,u]):this.toUpdateSelectedKeys([a,d]):u<=y?this.toUpdateSelectedKeys([a,u]):this.toUpdateSelectedKeys([y,u])}}},n.line(),n.label((function(){return this.toLocale("input options")})),{type:"RadioBox",name:"input.on",queried:!1,value:!0,tooltip:function(){return this.toLocale("show input desc")},label:function(){return this.toLocale("show input")},execute:function(e,t,r){this.tryUpdateStatus(["inputManual"],!!e)}},(o={type:"Font",name:"input.font.style",queried:!1,label:function(){return this.toLocale("input font style")}},_defineProperty(o,"queried",!1),_defineProperty(o,"value",[12,t.titleColor(),"",!1,!1]),_defineProperty(o,"bold",!0),_defineProperty(o,"italic",!0),_defineProperty(o,"tooltip",(function(){return this.toLocale("input font style desc")})),_defineProperty(o,"execute",(function(e,t,r){this.tryUpdateStatus(["inputStyle"],_objectSpread(_objectSpread({},t.inputStyle||{}),{},{color:e[1],fontSize:Number(e[0]),fontFamily:e[2],fontWeight:e[3]?"bold":"normal",fontStyle:e[4]?"italic":"normal"}))})),o),{type:"ColorPicker",name:"input.border.color",queried:!1,tooltip:function(){return this.toLocale("input border color desc")},value:"#ddd",label:function(){return this.toLocale("input border color")},execute:function(e,t,r){this.tryUpdateStatus(["inputBorderColor"],e)}},{type:"ColorPicker",name:"input.bg.color",queried:!1,tooltip:function(){return this.toLocale("input background desc")},value:"#fff",label:function(){return this.toLocale("input background")},execute:function(e,t,r){this.tryUpdateStatus(["inputBgColor"],e)}},n.line(),n.label((function(){return this.toLocale("slider options")})),{type:"RadioBox",name:"slider.on",queried:!1,value:!0,label:function(){return this.toLocale("show slider")},tooltip:function(){return this.toLocale("show slider desc")},execute:function(e,t,r){this.tryUpdateStatus(["sliderON"],!!e)}},{type:"Slider",name:"slider.size",queried:!1,min:2,max:10,value:3,formatter:function(e){return e},step:1,label:function(){return this.toLocale("slider track size")},tooltip:function(){return this.toLocale("slider track size desc")},execute:function(e,t,r){this.tryUpdateStatus(["trackSize"],e)}},{type:"Slider",name:"spot.size",queried:!1,min:10,max:40,value:20,formatter:function(e){return e},step:1,label:function(){return this.toLocale("slider spot size")},tooltip:function(){return this.toLocale("slider spot size desc")},execute:function(e,t,r){this.tryUpdateStatus(["spotSize"],e)}},{type:"SingleSelect",name:"slider.theme",available:[{value:"circle",label:function(){return this.toLocale("slider theme.circle")}},{value:"line",label:function(){return this.toLocale("slider theme.line")}}],value:["circle"],queried:!1,search:!1,singleRequireSelected:!0,label:function(){return this.toLocale("slider theme")},tooltip:function(){return this.toLocale("slider theme desc")},execute:function(e,t,r){this.tryUpdateStatus(["theme"],e[0])}},{type:"ColorPicker",name:"track.color",tooltip:function(){return this.toLocale("slider track color desc")},value:"#ccc",label:function(){return this.toLocale("slider track color")},queried:!1,execute:function(e,t,r){this.tryUpdateStatus(["trackColor"],e)}},{type:"ColorPicker",name:"slider.color",queried:!1,tooltip:function(){return this.toLocale("slider active color desc")},value:__ENV&&Array.isArray(__ENV.colors)?__ENV.colors[0]:"#0079ff",label:function(){return this.toLocale("slider active color")},execute:function(e,t,r){this.tryUpdateStatus(["color"],e)}},{type:"RadioBox",name:"selected.label.on",queried:!1,value:!1,tooltip:function(){return this.toLocale("slider show label desc")},label:function(){return this.toLocale("show active label")},execute:function(e,t,r){this.tryUpdateStatus(["showLabel"],!!e)}},(l={type:"Font",name:"selected.font.style",queried:!1,label:function(){return this.toLocale("active label font")}},_defineProperty(l,"queried",!1),_defineProperty(l,"value",[12,t.axisLabel(),"",!1,!1]),_defineProperty(l,"bold",!0),_defineProperty(l,"italic",!0),_defineProperty(l,"tooltip",(function(){return this.toLocale("active label font desc")})),_defineProperty(l,"execute",(function(e,t,r){this.tryUpdateStatus(["labelStyle"],_objectSpread(_objectSpread({},t.axisStyle||{}),{},{color:e[1],fontSize:Number(e[0]),fontFamily:e[2],fontWeight:e[3]?"bold":"normal",fontStyle:e[4]?"italic":"normal"}))})),l),{type:"RadioBox",name:"axis.label.on",queried:!1,value:!1,tooltip:function(){return this.toLocale("show axis label desc")},label:function(){return this.toLocale("show axis label")},execute:function(e,t,r){this.tryUpdateStatus(["axisLabel"],!!e)}},(a={type:"Font",name:"axis.font.style",queried:!1,label:function(){return this.toLocale("axis font style")}},_defineProperty(a,"queried",!1),_defineProperty(a,"value",[12,t.axisLabel(),"",!1,!1]),_defineProperty(a,"bold",!0),_defineProperty(a,"italic",!0),_defineProperty(a,"tooltip",(function(){return this.toLocale("axis font style desc")})),_defineProperty(a,"execute",(function(e,t,r){this.tryUpdateStatus(["axisStyle"],_objectSpread(_objectSpread({},t.axisStyle||{}),{},{color:e[1],fontSize:Number(e[0]),fontFamily:e[2],fontWeight:e[3]?"bold":"normal",fontStyle:e[4]?"italic":"normal"}))})),a)]),action:[n.label(e.locale("panel","action panel","subscribers")),n.subscribers(!0)]}}}));
//# sourceMappingURL=NumericRangePicker.js.map