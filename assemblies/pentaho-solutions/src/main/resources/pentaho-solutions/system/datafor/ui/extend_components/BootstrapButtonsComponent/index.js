"use strict";function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,r=new Array(e);o<e;o++)r[o]=t[o];return r}function ownKeys(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(o),!0).forEach((function(e){_defineProperty(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):ownKeys(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey(r.key),r)}}function _createClass(t,e,o){return e&&_defineProperties(t.prototype,e),o&&_defineProperties(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,o){var r=_superPropBase(t,e);if(r){var n=Object.getOwnPropertyDescriptor(r,e);return n.get?n.get.call(arguments.length<3?t:o):n.value}},_get.apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var o,r=_getPrototypeOf(t);if(e){var n=_getPrototypeOf(this).constructor;o=Reflect.construct(r,arguments,n)}else o=r.apply(this,arguments);return _possibleConstructorReturn(this,o)}}function _possibleConstructorReturn(t,e){if(e&&("object"===_typeof(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,e,o){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(t,e){if("object"!==_typeof(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var r=o.call(t,e||"default");if("object"!==_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}define("BootstrapButtonsComponent",["BaseFlatFilterClass","ui/extendIconUI","Utility","Base.Panel","utility/colors"],(function(t,e,o,r,n){var i=o.getReactExport("antdUI"),a=o.getReactExport("React"),l=i.Button,u=i.Tooltip,c=new r,s=function(e){_inherits(r,e);var o=_createSuper(r);function r(t){var e,n;return _classCallCheck(this,r),null===(e=(n=o.call(this,t)).componentContainer)||void 0===e||null===(e=e[0])||void 0===e||e.classList.add("v-buttons-component-group"),n.componentContainer.css("padding",5),n}return _createClass(r,[{key:"tryUpdateCaptionUI",value:function(){return this.model.isValidQueryModel()?(_get(_getPrototypeOf(r.prototype),"tryUpdateCaptionUI",this).apply(this,arguments),this.tryUpdateStatus(["timestamp"],Date.now()),this):this}},{key:"render",value:function(t){var e=this,o=t.datasets,r=t.selected,n=this.options,i=n.buttonActiveFontColor,c=n.buttonFont,s=n.buttonBg,p=n.buttonActiveBg,f=n.space,y=n.border,b=n.borderRadius,d=n.count,m=n.buttonGrid,_=n.buttonAlign;if(!o)return a.createElement(a.Fragment,null);var h=f?"".concat(f,"px"):"0px 0px 0px -1px";this.$el.css("text-align",_||"left");var g=o.length,v=-parseFloat((null==y?void 0:y.split(" ")[0])||0)-f-.5,P="auto",O=parseFloat(this.$el.width())-2;return d>0&&(P=Math.floor(O)/d-2*f),this.$el.css("flex-wrap","auto"===P?"nowrap":"wrap"),a.createElement(a.Fragment,null,o.map((function(t,o){var n=t.key,f=t.title;return a.createElement(a.Fragment,null,a.createElement(u,{title:f,key:n},a.createElement(l,{type:"primary",key:n,style:_objectSpread(_objectSpread({margin:h,border:y,borderRadius:b,background:r.includes(n)?p:s},c),{},{color:r.includes(n)?i:null==c?void 0:c.color,width:P}),onClick:function(t){return e.onSelectableNodeClick(n)}},f,m&&o<g-1&&(o+1)%d?a.createElement("i",{className:"v-buttons-component-group-grid",style:{background:null==c?void 0:c.color,right:"".concat(v,"px")}}):"")))})))}},{key:"onSelectableNodeClick",value:function(e){var o=(this.model.getDefaultsValue()||{}).value,r=o.indexOf(e);if(this.options.multiple)e!==t.ALLKEYID?r>-1?o.splice(r,1):o.push(e):o.splice(0,o.length,e);else{if(r>-1)return;o.push(e),o.splice(0,o.length-1)}this.toUpdateSelectedKeys(o)}}]),r}(t);return _defineProperty(s,"type","BootstrapButtonsComponent"),s.defineFilterComponentStandardedPanel([].concat(_toConsumableArray(s.getGeneralPanelGroup("caption",!0).filter((function(t,e){return 3!=e&&5!=e&&(1==e&&(t.value=!1),!0)}))),[c.label((function(){return this.toLocale("button group style")})),{type:"ColorPicker",name:"_bg_color",tooltip:o.locale("components","system default","buttons selector","default buttons background"),value:"#fff",label:o.locale("others","default"),execute:function(t){this.tryUpdateStatus(["buttonBg"],t)}},{type:"ColorPicker",name:"_selected_bg_color",tooltip:o.locale("components","system default","buttons selector","active buttons background description"),value:"#0070d2",label:o.locale("components","system default","buttons selector","active buttons background"),execute:function(t){this.tryUpdateStatus(["buttonActiveBg"],t)}},{type:"Border",name:"button.border",tooltip:o.locale("panel","border style description"),value:[1,"#ccc","solid"],selectSize:[55,66],sizes:[0,1,2,3,4,5,6],label:o.locale("components","system default","buttons selector","buttons border style"),execute:function(t){this.tryUpdateStatus(["border"],"".concat(t[0],"px ").concat(t[1]," ").concat(t[2]))}},{type:"Slider",name:"_radius",tooltip:o.locale("components","system default","buttons selector","buttons radius"),value:0,min:0,max:30,formatter:function(t){return t+"px"},step:1,label:o.locale("components","system default","buttons selector","buttons radius"),execute:function(t){this.tryUpdateStatus(["borderRadius"],"".concat(t,"px"))}},c.line(),c.label(o.locale("components","system default","buttons selector","buttons font")),{type:"Font",name:"_font",label:o.locale("panel","font"),value:[13,n.chartDefaultColor(),"",!1,!1],bold:!0,italic:!0,queried:!1,tooltip:o.locale("panel","universal","font description"),execute:function(t,e,o){this.tryUpdateStatus(["buttonFont"],{"font-size":Number(t[0])+"px",color:t[1],"font-family":t[2],"font-weight":t[3]?"bold":"normal","font-style":t[4]?"italic":"normal"})}},{type:"ColorPicker",name:"_selected_color",queried:!1,tooltip:o.locale("components","system default","buttons selector","active buttons font description"),value:"#fff",label:o.locale("components","system default","buttons selector","active buttons font"),execute:function(t,e,o){this.tryUpdateStatus(["buttonActiveFontColor"],t)}},c.line(),c.label(o.locale("components","system default","buttons selector","layout and border")),{type:"Slider",name:"_space",tooltip:o.locale("components","system default","buttons selector","buttons space description"),value:3,formatter:function(t){return t+"px"},min:-1,max:30,queried:!1,step:1,label:o.locale("components","system default","buttons selector","buttons space"),execute:function(t){this.tryUpdateStatus(["space"],t)}},{type:"QuickPicker",name:"button.align",queried:!1,value:"left",tooltip:function(){return this.toLocale("button align desc")},label:function(){return this.toLocale("button align")},execute:function(t){this.tryUpdateStatus(["buttonAlign"],t)}}],_toConsumableArray(c.getButtonGroupLayouts((function(t,e,o){"autofit"==t?this.tryUpdateStatus(["count"],null):this.tryUpdateStatus(["count"],e)}))))),s.registerComponent({name:function(){return this.toLocale("component name")},tooltip:function(){return this.toLocale("component tooltip")},desc:function(){return this.toLocale("component desc")},version:"1.0.0",classify:"_filter",icon:e.getButtonFilterIcon(),orderIndex:2,queryRequired:!0,editPointEventNone:!0,filterable:!0,alwaysALLMember:!0}),s}));
//# sourceMappingURL=BootstrapButtonsComponent.js.map