
<action-sequence>
	<name>quadrant-budget-emailed.xaction</name>
	<version>1</version>
	<title>Report Content Emailed</title>	
        <logging-level>debug</logging-level>
	<documentation>
		<author>James Dixon</author>
		<description>Emailed report</description>
		<help>just testing...</help>
	</documentation>

	<inputs>
		<output-type type="string">
			<default-value>html</default-value>
		</output-type>
		<to type="string">
		  <default-value>joe.pentaho@pentaho.org</default-value>
		</to>
		<from type="string">
		  <default-value>joe.pentaho@pentaho.org</default-value>
		</from>
		<subject type="string">
		  <default-value>Pentaho BI Platform breaks through the Email barrier</default-value>
			<sources>
				<request>email-subject</request> 
			</sources>			
		</subject>
		<message-plain type="string">
		  <default-value>This email was automatically generated by Pentaho BI Platform</default-value>
		</message-plain>
		<message-html type="string">
		  <default-value>This email was automatically generated by Pentaho BI Platform</default-value>
		</message-html>
		<attach type="string">
		  <default-value>report-output</default-value>
		</attach>
		<attach-name type="string">
		  <default-value>report.html</default-value>
		</attach-name>
	</inputs>
  
	<outputs>
		<report-output type="content">
		</report-output>
	</outputs>

	<resources>
		<report-definition>
			<solution-file>
				<location>quadrant-budget-hsql.rptdesign</location>
				<mime-type>text/xml</mime-type>
			</solution-file>
		</report-definition>
	</resources>
  
  <actions>
      <action-definition>
        <action-inputs>
          <output-type type="string"/>
        </action-inputs>
        <action-outputs>
            <report-output type="content"/>
        </action-outputs>
	<component-name>BIRTReportComponent</component-name>
        <action-type>report</action-type>
      	<component-definition>
        </component-definition>
      </action-definition>

      <action-definition>
        <action-inputs>
            <to type="string"/>
            <subject type="string"/>
            <from type="string"/>
            <message-plain type="string"/>
            <message-html type="string"/>
            <attach type="string"/>
            <attach-name type="string"/>
        </action-inputs>
        <component-name>EmailComponent</component-name>
        <action-type>email</action-type>
      	<component-definition/>
      </action-definition>
  </actions>
</action-sequence>

